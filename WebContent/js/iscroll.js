(function(aa,ba){var m=Math,dummyStyle=ba.createElement('div').style,vendor=(function(){var ca='t,webkitT,MozT,msT,OT'.split(','),t,i=0,l=ca.length;for(;i<l;i++){t=ca[i]+'ransform';if(t in dummyStyle){return ca[i].substr(0,ca[i].length-1);}}
return false;})(),cssVendor=vendor?'-'+vendor.toLowerCase()+'-':'',transform=prefixStyle('transform'),transitionProperty=prefixStyle('transitionProperty'),transitionDuration=prefixStyle('transitionDuration'),transformOrigin=prefixStyle('transformOrigin'),transitionTimingFunction=prefixStyle('transitionTimingFunction'),transitionDelay=prefixStyle('transitionDelay'),isAndroid=(/android/gi).test(navigator.appVersion),isIDevice=(/iphone|ipad/gi).test(navigator.appVersion),isTouchPad=(/hp-tablet/gi).test(navigator.appVersion),has3d=prefixStyle('perspective')in dummyStyle,hasTouch='ontouchstart' in aa&&!isTouchPad,hasTransform=vendor!==false,hasTransitionEnd=prefixStyle('transition')in dummyStyle,RESIZE_EV='onorientationchange' in aa?'orientationchange':'resize',START_EV=hasTouch?'touchstart':'mousedown',MOVE_EV=hasTouch?'touchmove':'mousemove',END_EV=hasTouch?'touchend':'mouseup',CANCEL_EV=hasTouch?'touchcancel':'mouseup',TRNEND_EV=(function(){if(vendor===false)return false;var da={'':'transitionend','webkit':'webkitTransitionEnd','Moz':'transitionend','O':'otransitionend','ms':'MSTransitionEnd'};return da[vendor];})(),nextFrame=(function(){return aa.requestAnimationFrame||aa.webkitRequestAnimationFrame||aa.mozRequestAnimationFrame||aa.oRequestAnimationFrame||aa.msRequestAnimationFrame||function(ea){return setTimeout(ea,1);};})(),cancelFrame=(function(){return aa.cancelRequestAnimationFrame||aa.webkitCancelAnimationFrame||aa.webkitCancelRequestAnimationFrame||aa.mozCancelRequestAnimationFrame||aa.oCancelRequestAnimationFrame||aa.msCancelRequestAnimationFrame||clearTimeout;})(),translateZ=has3d?' translateZ(0)':'',iScroll=function(el,fa){var ga=this,i;ga.wrapper=typeof el=='object'?el:ba.getElementById(el);ga.wrapper.style.overflow='hidden';ga.scroller=ga.wrapper.children[0];ga.options={hScroll:true,vScroll:true,x:0,y:0,bounce:true,bounceLock:false,momentum:true,lockDirection:true,useTransform:true,useTransition:false,topOffset:0,checkDOMChanges:false,handleClick:true,hScrollbar:true,vScrollbar:true,fixedScrollbar:isAndroid,hideScrollbar:isIDevice,fadeScrollbar:isIDevice&&has3d,scrollbarClass:'',zoom:false,zoomMin:1,zoomMax:4,doubleTapZoom:2,wheelAction:'scroll',snap:false,snapThreshold:1,onRefresh:null,onBeforeScrollStart:function(e){var ha=e.target;while(ha.nodeType!=1)ha=ha.parentNode;if(ha.tagName!='SELECT'&&ha.tagName!='INPUT'&&ha.tagName!='TEXTAREA')e.preventDefault();},onScrollStart:null,onBeforeScrollMove:null,onScrollMove:null,onBeforeScrollEnd:null,onScrollEnd:null,onTouchEnd:null,onDestroy:null,onZoomStart:null,onZoom:null,onZoomEnd:null};for(i in fa)ga.options[i]=fa[i];ga.x=ga.options.x;ga.y=ga.options.y;ga.options.useTransform=hasTransform&&ga.options.useTransform;ga.options.hScrollbar=ga.options.hScroll&&ga.options.hScrollbar;ga.options.vScrollbar=ga.options.vScroll&&ga.options.vScrollbar;ga.options.zoom=ga.options.useTransform&&ga.options.zoom;ga.options.useTransition=hasTransitionEnd&&ga.options.useTransition;if(ga.options.zoom&&isAndroid){translateZ='';}
ga.scroller.style[transitionProperty]=ga.options.useTransform?cssVendor+'transform':'top left';ga.scroller.style[transitionDuration]='0';ga.scroller.style[transformOrigin]='0 0';if(ga.options.useTransition)ga.scroller.style[transitionTimingFunction]='cubic-bezier(0.33,0.66,0.66,1)';if(ga.options.useTransform)ga.scroller.style[transform]='translate('+ga.x+'px,'+ga.y+'px)'+translateZ;else ga.scroller.style.cssText+=';position:absolute;top:'+ga.y+'px;left:'+ga.x+'px';if(ga.options.useTransition)ga.options.fixedScrollbar=true;ga.refresh();ga._bind(RESIZE_EV,aa);ga._bind(START_EV);if(!hasTouch){if(ga.options.wheelAction!='none'){ga._bind('DOMMouseScroll');ga._bind('mousewheel');}}
if(ga.options.checkDOMChanges)ga.checkDOMTime=setInterval(function(){ga._checkDOMChanges();},500);};iScroll.prototype={enabled:true,x:0,y:0,steps:[],scale:1,currPageX:0,currPageY:0,pagesX:[],pagesY:[],aniTime:null,wheelZoomCount:0,handleEvent:function(e){var ia=this;switch(e.type){case START_EV:if(!hasTouch&&e.button!==0)return;ia._start(e);break;case MOVE_EV:ia._move(e);break;case END_EV:case CANCEL_EV:ia._end(e);break;case RESIZE_EV:ia._resize();break;case 'DOMMouseScroll':case 'mousewheel':ia._wheel(e);break;case TRNEND_EV:ia._transitionEnd(e);break;}},_checkDOMChanges:function(){if(this.moved||this.zoomed||this.animating||(this.scrollerW==this.scroller.offsetWidth*this.scale&&this.scrollerH==this.scroller.offsetHeight*this.scale))return;this.refresh();},_scrollbar:function(ja){var ka=this,bar;if(!ka[ja+'Scrollbar']){if(ka[ja+'ScrollbarWrapper']){if(hasTransform)ka[ja+'ScrollbarIndicator'].style[transform]='';ka[ja+'ScrollbarWrapper'].parentNode.removeChild(ka[ja+'ScrollbarWrapper']);ka[ja+'ScrollbarWrapper']=null;ka[ja+'ScrollbarIndicator']=null;}
return;}
if(!ka[ja+'ScrollbarWrapper']){bar=ba.createElement('div');if(ka.options.scrollbarClass)bar.className=ka.options.scrollbarClass+ja.toUpperCase();else bar.style.cssText='position:absolute;z-index:100;'+(ja=='h'?'height:7px;bottom:1px;left:2px;right:'+(ka.vScrollbar?'7':'2')+'px':'width:7px;bottom:'+(ka.hScrollbar?'7':'2')+'px;top:2px;right:1px');bar.style.cssText+=';pointer-events:none;'+cssVendor+'transition-property:opacity;'+cssVendor+'transition-duration:'+(ka.options.fadeScrollbar?'350ms':'0')+';overflow:hidden;opacity:'+(ka.options.hideScrollbar?'0':'1');ka.wrapper.appendChild(bar);ka[ja+'ScrollbarWrapper']=bar;bar=ba.createElement('div');if(!ka.options.scrollbarClass){bar.style.cssText='position:absolute;z-index:100;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);'+cssVendor+'background-clip:padding-box;'+cssVendor+'box-sizing:border-box;'+(ja=='h'?'height:100%':'width:100%')+';'+cssVendor+'border-radius:3px;border-radius:3px';}
bar.style.cssText+=';pointer-events:none;'+cssVendor+'transition-property:'+cssVendor+'transform;'+cssVendor+'transition-timing-function:cubic-bezier(0.33,0.66,0.66,1);'+cssVendor+'transition-duration:0;'+cssVendor+'transform: translate(0,0)'+translateZ;if(ka.options.useTransition)bar.style.cssText+=';'+cssVendor+'transition-timing-function:cubic-bezier(0.33,0.66,0.66,1)';ka[ja+'ScrollbarWrapper'].appendChild(bar);ka[ja+'ScrollbarIndicator']=bar;}
if(ja=='h'){ka.hScrollbarSize=ka.hScrollbarWrapper.clientWidth;ka.hScrollbarIndicatorSize=m.max(m.round(ka.hScrollbarSize*ka.hScrollbarSize/ka.scrollerW),8);ka.hScrollbarIndicator.style.width=ka.hScrollbarIndicatorSize+'px';ka.hScrollbarMaxScroll=ka.hScrollbarSize-ka.hScrollbarIndicatorSize;ka.hScrollbarProp=ka.hScrollbarMaxScroll/ka.maxScrollX;}
else{ka.vScrollbarSize=ka.vScrollbarWrapper.clientHeight;ka.vScrollbarIndicatorSize=m.max(m.round(ka.vScrollbarSize*ka.vScrollbarSize/ka.scrollerH),8);ka.vScrollbarIndicator.style.height=ka.vScrollbarIndicatorSize+'px';ka.vScrollbarMaxScroll=ka.vScrollbarSize-ka.vScrollbarIndicatorSize;ka.vScrollbarProp=ka.vScrollbarMaxScroll/ka.maxScrollY;}
ka._scrollbarPos(ja,true);},_resize:function(){var la=this;setTimeout(function(){la.refresh();},isAndroid?200:0);},_pos:function(x,y){if(this.zoomed)return;x=this.hScroll?x:0;y=this.vScroll?y:0;if(this.options.useTransform){this.scroller.style[transform]='translate('+x+'px,'+y+'px) scale('+this.scale+')'+translateZ;}
else{x=m.round(x);y=m.round(y);this.scroller.style.left=x+'px';this.scroller.style.top=y+'px';}
this.x=x;this.y=y;this._scrollbarPos('h');this._scrollbarPos('v');},_scrollbarPos:function(ma,na){var oa=this,pos=ma=='h'?oa.x:oa.y,size;if(!oa[ma+'Scrollbar'])return;pos=oa[ma+'ScrollbarProp']*pos;if(pos<0){if(!oa.options.fixedScrollbar){size=oa[ma+'ScrollbarIndicatorSize']+m.round(pos*3);if(size<8)size=8;oa[ma+'ScrollbarIndicator'].style[ma=='h'?'width':'height']=size+'px';}
pos=0;}
else if(pos>oa[ma+'ScrollbarMaxScroll']){if(!oa.options.fixedScrollbar){size=oa[ma+'ScrollbarIndicatorSize']-m.round((pos-oa[ma+'ScrollbarMaxScroll'])*3);if(size<8)size=8;oa[ma+'ScrollbarIndicator'].style[ma=='h'?'width':'height']=size+'px';pos=oa[ma+'ScrollbarMaxScroll']+(oa[ma+'ScrollbarIndicatorSize']-size);}
else{pos=oa[ma+'ScrollbarMaxScroll'];}}
oa[ma+'ScrollbarWrapper'].style[transitionDelay]='0';oa[ma+'ScrollbarWrapper'].style.opacity=na&&oa.options.hideScrollbar?'0':'1';oa[ma+'ScrollbarIndicator'].style[transform]='translate('+(ma=='h'?pos+'px,0)':'0,'+pos+'px)')+translateZ;},_start:function(e){var pa=this,point=hasTouch?e.touches[0]:e,matrix,x,y,c1,c2;if(!pa.enabled)return;if(pa.options.onBeforeScrollStart)pa.options.onBeforeScrollStart.call(pa,e);if(pa.options.useTransition||pa.options.zoom)pa._transitionTime(0);pa.moved=false;pa.animating=false;pa.zoomed=false;pa.distX=0;pa.distY=0;pa.absDistX=0;pa.absDistY=0;pa.dirX=0;pa.dirY=0;if(pa.options.zoom&&hasTouch&&e.touches.length>1){c1=m.abs(e.touches[0].pageX-e.touches[1].pageX);c2=m.abs(e.touches[0].pageY-e.touches[1].pageY);pa.touchesDistStart=m.sqrt(c1*c1+c2*c2);pa.originX=m.abs(e.touches[0].pageX+e.touches[1].pageX-pa.wrapperOffsetLeft*2)/2-pa.x;pa.originY=m.abs(e.touches[0].pageY+e.touches[1].pageY-pa.wrapperOffsetTop*2)/2-pa.y;if(pa.options.onZoomStart)pa.options.onZoomStart.call(pa,e);}
if(pa.options.momentum){if(pa.options.useTransform){matrix=getComputedStyle(pa.scroller,null)[transform].replace(/[^0-9\-.,]/g,'').split(',');x=+(matrix[12]||matrix[4]);y=+(matrix[13]||matrix[5]);}
else{x=+getComputedStyle(pa.scroller,null).left.replace(/[^0-9-]/g,'');y=+getComputedStyle(pa.scroller,null).top.replace(/[^0-9-]/g,'');}
if(x!=pa.x||y!=pa.y){if(pa.options.useTransition)pa._unbind(TRNEND_EV);else cancelFrame(pa.aniTime);pa.steps=[];pa._pos(x,y);if(pa.options.onScrollEnd)pa.options.onScrollEnd.call(pa);}}
pa.absStartX=pa.x;pa.absStartY=pa.y;pa.startX=pa.x;pa.startY=pa.y;pa.pointX=point.pageX;pa.pointY=point.pageY;pa.startTime=e.timeStamp||Date.now();if(pa.options.onScrollStart)pa.options.onScrollStart.call(pa,e);pa._bind(MOVE_EV,aa);pa._bind(END_EV,aa);pa._bind(CANCEL_EV,aa);},_move:function(e){var qa=this,point=hasTouch?e.touches[0]:e,deltaX=point.pageX-qa.pointX,deltaY=point.pageY-qa.pointY,newX=qa.x+deltaX,newY=qa.y+deltaY,c1,c2,scale,timestamp=e.timeStamp||Date.now();if(qa.options.onBeforeScrollMove)qa.options.onBeforeScrollMove.call(qa,e);if(qa.options.zoom&&hasTouch&&e.touches.length>1){c1=m.abs(e.touches[0].pageX-e.touches[1].pageX);c2=m.abs(e.touches[0].pageY-e.touches[1].pageY);qa.touchesDist=m.sqrt(c1*c1+c2*c2);qa.zoomed=true;scale=1/qa.touchesDistStart*qa.touchesDist*this.scale;if(scale<qa.options.zoomMin)scale=0.5*qa.options.zoomMin*Math.pow(2.0,scale/qa.options.zoomMin);else if(scale>qa.options.zoomMax)scale=2.0*qa.options.zoomMax*Math.pow(0.5,qa.options.zoomMax/scale);qa.lastScale=scale/this.scale;newX=this.originX-this.originX*qa.lastScale+this.x,newY=this.originY-this.originY*qa.lastScale+this.y;this.scroller.style[transform]='translate('+newX+'px,'+newY+'px) scale('+scale+')'+translateZ;if(qa.options.onZoom)qa.options.onZoom.call(qa,e);return;}
qa.pointX=point.pageX;qa.pointY=point.pageY;if(newX>0||newX<qa.maxScrollX){newX=qa.options.bounce?qa.x+(deltaX/2):newX>=0||qa.maxScrollX>=0?0:qa.maxScrollX;}
if(newY>qa.minScrollY||newY<qa.maxScrollY){newY=qa.options.bounce?qa.y+(deltaY/2):newY>=qa.minScrollY||qa.maxScrollY>=0?qa.minScrollY:qa.maxScrollY;}
qa.distX+=deltaX;qa.distY+=deltaY;qa.absDistX=m.abs(qa.distX);qa.absDistY=m.abs(qa.distY);if(qa.absDistX<6&&qa.absDistY<6){return;}
if(qa.options.lockDirection){if(qa.absDistX>qa.absDistY+5){newY=qa.y;deltaY=0;}
else if(qa.absDistY>qa.absDistX+5){newX=qa.x;deltaX=0;}}
qa.moved=true;qa._pos(newX,newY);qa.dirX=deltaX>0?-1:deltaX<0?1:0;qa.dirY=deltaY>0?-1:deltaY<0?1:0;if(timestamp-qa.startTime>300){qa.startTime=timestamp;qa.startX=qa.x;qa.startY=qa.y;}
if(qa.options.onScrollMove)qa.options.onScrollMove.call(qa,e);},_end:function(e){if(hasTouch&&e.touches.length!==0)return;var ra=this,point=hasTouch?e.changedTouches[0]:e,target,ev,momentumX={dist:0,time:0},momentumY={dist:0,time:0},duration=(e.timeStamp||Date.now())-ra.startTime,newPosX=ra.x,newPosY=ra.y,distX,distY,newDuration,snap,scale;ra._unbind(MOVE_EV,aa);ra._unbind(END_EV,aa);ra._unbind(CANCEL_EV,aa);if(ra.options.onBeforeScrollEnd)ra.options.onBeforeScrollEnd.call(ra,e);if(ra.zoomed){scale=ra.scale*ra.lastScale;scale=Math.max(ra.options.zoomMin,scale);scale=Math.min(ra.options.zoomMax,scale);ra.lastScale=scale/ra.scale;ra.scale=scale;ra.x=ra.originX-ra.originX*ra.lastScale+ra.x;ra.y=ra.originY-ra.originY*ra.lastScale+ra.y;ra.scroller.style[transitionDuration]='200ms';ra.scroller.style[transform]='translate('+ra.x+'px,'+ra.y+'px) scale('+ra.scale+')'+translateZ;ra.zoomed=false;ra.refresh();if(ra.options.onZoomEnd)ra.options.onZoomEnd.call(ra,e);return;}
if(!ra.moved){if(hasTouch){if(ra.doubleTapTimer&&ra.options.zoom){clearTimeout(ra.doubleTapTimer);ra.doubleTapTimer=null;if(ra.options.onZoomStart)ra.options.onZoomStart.call(ra,e);ra.zoom(ra.pointX,ra.pointY,ra.scale==1?ra.options.doubleTapZoom:1);if(ra.options.onZoomEnd){setTimeout(function(){ra.options.onZoomEnd.call(ra,e);},200);}}
else if(this.options.handleClick){ra.doubleTapTimer=setTimeout(function(){ra.doubleTapTimer=null;target=point.target;while(target.nodeType!=1)target=target.parentNode;if(target.tagName!='SELECT'&&target.tagName!='INPUT'&&target.tagName!='TEXTAREA'){ev=ba.createEvent('MouseEvents');ev.initMouseEvent('click',true,true,e.view,1,point.screenX,point.screenY,point.clientX,point.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,0,null);ev._fake=true;target.dispatchEvent(ev);}},ra.options.zoom?250:0);}}
ra._resetPos(400);if(ra.options.onTouchEnd)ra.options.onTouchEnd.call(ra,e);return;}
if(duration<300&&ra.options.momentum){momentumX=newPosX?ra._momentum(newPosX-ra.startX,duration,-ra.x,ra.scrollerW-ra.wrapperW+ra.x,ra.options.bounce?ra.wrapperW:0):momentumX;momentumY=newPosY?ra._momentum(newPosY-ra.startY,duration,-ra.y,(ra.maxScrollY<0?ra.scrollerH-ra.wrapperH+ra.y-ra.minScrollY:0),ra.options.bounce?ra.wrapperH:0):momentumY;newPosX=ra.x+momentumX.dist;newPosY=ra.y+momentumY.dist;if((ra.x>0&&newPosX>0)||(ra.x<ra.maxScrollX&&newPosX<ra.maxScrollX))momentumX={dist:0,time:0};if((ra.y>ra.minScrollY&&newPosY>ra.minScrollY)||(ra.y<ra.maxScrollY&&newPosY<ra.maxScrollY))momentumY={dist:0,time:0};}
if(momentumX.dist||momentumY.dist){newDuration=m.max(m.max(momentumX.time,momentumY.time),10);if(ra.options.snap){distX=newPosX-ra.absStartX;distY=newPosY-ra.absStartY;if(m.abs(distX)<ra.options.snapThreshold&&m.abs(distY)<ra.options.snapThreshold){ra.scrollTo(ra.absStartX,ra.absStartY,200);}
else{snap=ra._snap(newPosX,newPosY);newPosX=snap.x;newPosY=snap.y;newDuration=m.max(snap.time,newDuration);}}
ra.scrollTo(m.round(newPosX),m.round(newPosY),newDuration);if(ra.options.onTouchEnd)ra.options.onTouchEnd.call(ra,e);return;}
if(ra.options.snap){distX=newPosX-ra.absStartX;distY=newPosY-ra.absStartY;if(m.abs(distX)<ra.options.snapThreshold&&m.abs(distY)<ra.options.snapThreshold)ra.scrollTo(ra.absStartX,ra.absStartY,200);else{snap=ra._snap(ra.x,ra.y);if(snap.x!=ra.x||snap.y!=ra.y)ra.scrollTo(snap.x,snap.y,snap.time);}
if(ra.options.onTouchEnd)ra.options.onTouchEnd.call(ra,e);return;}
ra._resetPos(200);if(ra.options.onTouchEnd)ra.options.onTouchEnd.call(ra,e);},_resetPos:function(sa){var ta=this,resetX=ta.x>=0?0:ta.x<ta.maxScrollX?ta.maxScrollX:ta.x,resetY=ta.y>=ta.minScrollY||ta.maxScrollY>0?ta.minScrollY:ta.y<ta.maxScrollY?ta.maxScrollY:ta.y;if(resetX==ta.x&&resetY==ta.y){if(ta.moved){ta.moved=false;if(ta.options.onScrollEnd)ta.options.onScrollEnd.call(ta);}
if(ta.hScrollbar&&ta.options.hideScrollbar){if(vendor=='webkit')ta.hScrollbarWrapper.style[transitionDelay]='300ms';ta.hScrollbarWrapper.style.opacity='0';}
if(ta.vScrollbar&&ta.options.hideScrollbar){if(vendor=='webkit')ta.vScrollbarWrapper.style[transitionDelay]='300ms';ta.vScrollbarWrapper.style.opacity='0';}
return;}
ta.scrollTo(resetX,resetY,sa||0);},_wheel:function(e){var ua=this,wheelDeltaX,wheelDeltaY,deltaX,deltaY,deltaScale;if('wheelDeltaX' in e){wheelDeltaX=e.wheelDeltaX/12;wheelDeltaY=e.wheelDeltaY/12;}
else if('wheelDelta' in e){wheelDeltaX=wheelDeltaY=e.wheelDelta/12;}
else if('detail' in e){wheelDeltaX=wheelDeltaY=-e.detail*3;}
else{return;}
if(ua.options.wheelAction=='zoom'){deltaScale=ua.scale*Math.pow(2,1 / 3 * (wheelDeltaY ? wheelDeltaY / Math.abs(wheelDeltaY):0));if(deltaScale<ua.options.zoomMin)deltaScale=ua.options.zoomMin;if(deltaScale>ua.options.zoomMax)deltaScale=ua.options.zoomMax;if(deltaScale!=ua.scale){if(!ua.wheelZoomCount&&ua.options.onZoomStart)ua.options.onZoomStart.call(ua,e);ua.wheelZoomCount++;ua.zoom(e.pageX,e.pageY,deltaScale,400);setTimeout(function(){ua.wheelZoomCount--;if(!ua.wheelZoomCount&&ua.options.onZoomEnd)ua.options.onZoomEnd.call(ua,e);},400);}
return;}
deltaX=ua.x+wheelDeltaX;deltaY=ua.y+wheelDeltaY;if(deltaX>0)deltaX=0;else if(deltaX<ua.maxScrollX)deltaX=ua.maxScrollX;if(deltaY>ua.minScrollY)deltaY=ua.minScrollY;else if(deltaY<ua.maxScrollY)deltaY=ua.maxScrollY;if(ua.maxScrollY<0){ua.scrollTo(deltaX,deltaY,0);}},_transitionEnd:function(e){var va=this;if(e.target!=va.scroller)return;va._unbind(TRNEND_EV);va._startAni();},_startAni:function(){var wa=this,startX=wa.x,startY=wa.y,startTime=Date.now(),step,easeOut,animate;if(wa.animating)return;if(!wa.steps.length){wa._resetPos(400);return;}
step=wa.steps.shift();if(step.x==startX&&step.y==startY)step.time=0;wa.animating=true;wa.moved=true;if(wa.options.useTransition){wa._transitionTime(step.time);wa._pos(step.x,step.y);wa.animating=false;if(step.time)wa._bind(TRNEND_EV);else wa._resetPos(0);return;}
animate=function(){var xa=Date.now(),newX,newY;if(xa>=startTime+step.time){wa._pos(step.x,step.y);wa.animating=false;if(wa.options.onAnimationEnd)wa.options.onAnimationEnd.call(wa);wa._startAni();return;}
xa=(xa-startTime)/step.time-1;easeOut=m.sqrt(1-xa*xa);newX=(step.x-startX)*easeOut+startX;newY=(step.y-startY)*easeOut+startY;wa._pos(newX,newY);if(wa.animating)wa.aniTime=nextFrame(animate);};animate();},_transitionTime:function(ya){ya+='ms';this.scroller.style[transitionDuration]=ya;if(this.hScrollbar)this.hScrollbarIndicator.style[transitionDuration]=ya;if(this.vScrollbar)this.vScrollbarIndicator.style[transitionDuration]=ya;},_momentum:function(za,Aa,Ba,Ca,Da){var Ea=0.0006,speed=m.abs(za)/Aa,newDist=(speed*speed)/(2*Ea),newTime=0,outsideDist=0;if(za>0&&newDist>Ba){outsideDist=Da / (6 /(newDist/speed*Ea));Ba=Ba+outsideDist;speed=speed*Ba/newDist;newDist=Ba;}
else if(za<0&&newDist>Ca){outsideDist=Da / (6 /(newDist/speed*Ea));Ca=Ca+outsideDist;speed=speed*Ca/newDist;newDist=Ca;}
newDist=newDist*(za<0?-1:1);newTime=speed/Ea;return{dist:newDist,time:m.round(newTime)};},_offset:function(el){var Fa=-el.offsetLeft,top=-el.offsetTop;while(el=el.offsetParent){Fa-=el.offsetLeft;top-=el.offsetTop;}
if(el!=this.wrapper){Fa*=this.scale;top*=this.scale;}
return{left:Fa,top:top};},_snap:function(x,y){var Ga=this,i,l,page,time,sizeX,sizeY;page=Ga.pagesX.length-1;for(i=0,l=Ga.pagesX.length;i<l;i++){if(x>=Ga.pagesX[i]){page=i;break;}}
if(page==Ga.currPageX&&page>0&&Ga.dirX<0)page--;x=Ga.pagesX[page];sizeX=m.abs(x-Ga.pagesX[Ga.currPageX]);sizeX=sizeX?m.abs(Ga.x-x)/sizeX*500:0;Ga.currPageX=page;page=Ga.pagesY.length-1;for(i=0;i<page;i++){if(y>=Ga.pagesY[i]){page=i;break;}}
if(page==Ga.currPageY&&page>0&&Ga.dirY<0)page--;y=Ga.pagesY[page];sizeY=m.abs(y-Ga.pagesY[Ga.currPageY]);sizeY=sizeY?m.abs(Ga.y-y)/sizeY*500:0;Ga.currPageY=page;time=m.round(m.max(sizeX,sizeY))||200;return{x:x,y:y,time:time};},_bind:function(Ha,el,Ia){(el||this.scroller).addEventListener(Ha,this,!!Ia);},_unbind:function(Ja,el,Ka){(el||this.scroller).removeEventListener(Ja,this,!!Ka);},destroy:function(){var La=this;La.scroller.style[transform]='';La.hScrollbar=false;La.vScrollbar=false;La._scrollbar('h');La._scrollbar('v');La._unbind(RESIZE_EV,aa);La._unbind(START_EV);La._unbind(MOVE_EV,aa);La._unbind(END_EV,aa);La._unbind(CANCEL_EV,aa);if(!La.options.hasTouch){La._unbind('DOMMouseScroll');La._unbind('mousewheel');}
if(La.options.useTransition)La._unbind(TRNEND_EV);if(La.options.checkDOMChanges)clearInterval(La.checkDOMTime);if(La.options.onDestroy)La.options.onDestroy.call(La);},refresh:function(){var Ma=this,offset,i,l,els,pos=0,page=0;if(Ma.scale<Ma.options.zoomMin)Ma.scale=Ma.options.zoomMin;Ma.wrapperW=Ma.wrapper.clientWidth||1;Ma.wrapperH=Ma.wrapper.clientHeight||1;Ma.minScrollY=-Ma.options.topOffset||0;Ma.scrollerW=m.round(Ma.scroller.offsetWidth*Ma.scale);Ma.scrollerH=m.round((Ma.scroller.offsetHeight+Ma.minScrollY)*Ma.scale);Ma.maxScrollX=Ma.wrapperW-Ma.scrollerW;Ma.maxScrollY=Ma.wrapperH-Ma.scrollerH+Ma.minScrollY;Ma.dirX=0;Ma.dirY=0;if(Ma.options.onRefresh)Ma.options.onRefresh.call(Ma);Ma.hScroll=Ma.options.hScroll&&Ma.maxScrollX<0;Ma.vScroll=Ma.options.vScroll&&(!Ma.options.bounceLock&&!Ma.hScroll||Ma.scrollerH>Ma.wrapperH);Ma.hScrollbar=Ma.hScroll&&Ma.options.hScrollbar;Ma.vScrollbar=Ma.vScroll&&Ma.options.vScrollbar&&Ma.scrollerH>Ma.wrapperH;offset=Ma._offset(Ma.wrapper);Ma.wrapperOffsetLeft=-offset.left;Ma.wrapperOffsetTop=-offset.top;if(typeof Ma.options.snap=='string'){Ma.pagesX=[];Ma.pagesY=[];els=Ma.scroller.querySelectorAll(Ma.options.snap);for(i=0,l=els.length;i<l;i++){pos=Ma._offset(els[i]);pos.left+=Ma.wrapperOffsetLeft;pos.top+=Ma.wrapperOffsetTop;Ma.pagesX[i]=pos.left<Ma.maxScrollX?Ma.maxScrollX:pos.left*Ma.scale;Ma.pagesY[i]=pos.top<Ma.maxScrollY?Ma.maxScrollY:pos.top*Ma.scale;}}
else if(Ma.options.snap){Ma.pagesX=[];while(pos>=Ma.maxScrollX){Ma.pagesX[page]=pos;pos=pos-Ma.wrapperW;page++;}
if(Ma.maxScrollX%Ma.wrapperW)Ma.pagesX[Ma.pagesX.length]=Ma.maxScrollX-Ma.pagesX[Ma.pagesX.length-1]+Ma.pagesX[Ma.pagesX.length-1];pos=0;page=0;Ma.pagesY=[];while(pos>=Ma.maxScrollY){Ma.pagesY[page]=pos;pos=pos-Ma.wrapperH;page++;}
if(Ma.maxScrollY%Ma.wrapperH)Ma.pagesY[Ma.pagesY.length]=Ma.maxScrollY-Ma.pagesY[Ma.pagesY.length-1]+Ma.pagesY[Ma.pagesY.length-1];}
Ma._scrollbar('h');Ma._scrollbar('v');if(!Ma.zoomed){Ma.scroller.style[transitionDuration]='0';Ma._resetPos(400);}},scrollTo:function(x,y,Na,Oa){var Pa=this,step=x,i,l;Pa.stop();if(!step.length)step=[{x:x,y:y,time:Na,relative:Oa}];for(i=0,l=step.length;i<l;i++){if(step[i].relative){step[i].x=Pa.x-step[i].x;step[i].y=Pa.y-step[i].y;}
Pa.steps.push({x:step[i].x,y:step[i].y,time:step[i].time||0});}
Pa._startAni();},scrollToElement:function(el,Qa){var Ra=this,pos;el=el.nodeType?el:Ra.scroller.querySelector(el);if(!el)return;pos=Ra._offset(el);pos.left+=Ra.wrapperOffsetLeft;pos.top+=Ra.wrapperOffsetTop;pos.left=pos.left>0?0:pos.left<Ra.maxScrollX?Ra.maxScrollX:pos.left;pos.top=pos.top>Ra.minScrollY?Ra.minScrollY:pos.top<Ra.maxScrollY?Ra.maxScrollY:pos.top;Qa=Qa===undefined?m.max(m.abs(pos.left)*2,m.abs(pos.top)*2):Qa;Ra.scrollTo(pos.left,pos.top,Qa);},scrollToPage:function(Sa,Ta,Ua){var Va=this,x,y;Ua=Ua===undefined?400:Ua;if(Va.options.onScrollStart)Va.options.onScrollStart.call(Va);if(Va.options.snap){Sa=Sa=='next'?Va.currPageX+1:Sa=='prev'?Va.currPageX-1:Sa;Ta=Ta=='next'?Va.currPageY+1:Ta=='prev'?Va.currPageY-1:Ta;Sa=Sa<0?0:Sa>Va.pagesX.length-1?Va.pagesX.length-1:Sa;Ta=Ta<0?0:Ta>Va.pagesY.length-1?Va.pagesY.length-1:Ta;Va.currPageX=Sa;Va.currPageY=Ta;x=Va.pagesX[Sa];y=Va.pagesY[Ta];}
else{x=-Va.wrapperW*Sa;y=-Va.wrapperH*Ta;if(x<Va.maxScrollX)x=Va.maxScrollX;if(y<Va.maxScrollY)y=Va.maxScrollY;}
Va.scrollTo(x,y,Ua);},disable:function(){this.stop();this._resetPos(0);this.enabled=false;this._unbind(MOVE_EV,aa);this._unbind(END_EV,aa);this._unbind(CANCEL_EV,aa);},enable:function(){this.enabled=true;},stop:function(){if(this.options.useTransition)this._unbind(TRNEND_EV);else cancelFrame(this.aniTime);this.steps=[];this.moved=false;this.animating=false;},zoom:function(x,y,Wa,Xa){var Ya=this,relScale=Wa/Ya.scale;if(!Ya.options.useTransform)return;Ya.zoomed=true;Xa=Xa===undefined?200:Xa;x=x-Ya.wrapperOffsetLeft-Ya.x;y=y-Ya.wrapperOffsetTop-Ya.y;Ya.x=x-x*relScale+Ya.x;Ya.y=y-y*relScale+Ya.y;Ya.scale=Wa;Ya.refresh();Ya.x=Ya.x>0?0:Ya.x<Ya.maxScrollX?Ya.maxScrollX:Ya.x;Ya.y=Ya.y>Ya.minScrollY?Ya.minScrollY:Ya.y<Ya.maxScrollY?Ya.maxScrollY:Ya.y;Ya.scroller.style[transitionDuration]=Xa+'ms';Ya.scroller.style[transform]='translate('+Ya.x+'px,'+Ya.y+'px) scale('+Wa+')'+translateZ;Ya.zoomed=false;},isReady:function(){return!this.moved&&!this.zoomed&&!this.animating;}};function prefixStyle(Za){if(vendor==='')return Za;Za=Za.charAt(0).toUpperCase()+Za.substr(1);return vendor+Za;}
dummyStyle=null;if(typeof exports!=='undefined')exports.iScroll=iScroll;else aa.iScroll=iScroll;})(window,document);