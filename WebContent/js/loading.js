function loading(aa,ba){this.canvas=(typeof aa=='String'?document.getElementById(aa):aa);if(ba){this.radius=ba.radius||10;this.circleLineWidth=ba.circleLineWidth||4;this.circleColor=ba.circleColor||'lightgray';this.dotColor=ba.dotColor||'gray';}else{this.radius=10;this.circelLineWidth=4;this.circleColor='lightgray';this.dotColor='gray';}}
loading.prototype={show:function(){var ca=this.canvas;if(!ca.getContext)return;if(ca.__loading)return;ca.__loading=this;var da=ca.getContext('2d');var ea=this.radius;var fa=[{angle:0,radius:1.5},{angle:3/radius,radius:2},{angle:7/radius,radius:2.5},{angle:12/ea,radius:3}];var me=this;ca.loadingInterval=setInterval(function(){da.clearRect(0,0,ca.width,ca.height);var ga=me.circleLineWidth;var ha={x:ca.width/2 - radius,y:canvas.height/2-ea};da.beginPath();da.lineWidth=ga;da.strokeStyle=me.circleColor;da.arc(ha.x,ha.y,ea,0,Math.PI*2);da.closePath();da.stroke();for(var i=0;i<fa.length;i++){var ia=fa[i].currentAngle||fa[i].angle;var ja={x:ha.x-(ea)*Math.cos(ia),y:ha.y-(ea)*Math.sin(ia)};var ka=fa[i].radius;da.beginPath();da.fillStyle=me.dotColor;da.arc(ja.x,ja.y,ka,0,Math.PI*2);da.closePath();da.fill();fa[i].currentAngle=ia+4/ea;}},50);},hide:function(){var la=this.canvas;la.__loading=false;if(la.loadingInterval){window.clearInterval(la.loadingInterval);}
var ma=la.getContext('2d');if(ma)ma.clearRect(0,0,la.width,la.height);}};